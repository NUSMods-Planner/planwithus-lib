<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Directory | planwithus-lib</title><meta name="description" content="Documentation for planwithus-lib"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">planwithus-lib</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">planwithus-lib</a></li><li><a href="../modules/directory.html">directory</a></li><li><a href="directory.Directory.html">Directory</a></li></ul><h1>Class Directory</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>Class representing a block directory, providing functionality for adding
blocks and block identifier resolution.</p>
</div></div></section><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><span class="target">Directory</span></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Constructors</h3><ul class="tsd-index-list"><li class="tsd-kind-constructor tsd-parent-kind-class"><a href="directory.Directory.html#constructor" class="tsd-kind-icon">constructor</a></li></ul></section><section class="tsd-index-section tsd-is-private tsd-is-private-protected"><h3>Properties</h3><ul class="tsd-index-list"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="directory.Directory.html#_blocks" class="tsd-kind-icon">_blocks</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="directory.Directory.html#_selectableBlocks" class="tsd-kind-icon">_selectable<wbr/>Blocks</a></li></ul></section><section class="tsd-index-section "><h3>Methods</h3><ul class="tsd-index-list"><li class="tsd-kind-method tsd-parent-kind-class"><a href="directory.Directory.html#addBlock" class="tsd-kind-icon">add<wbr/>Block</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="directory.Directory.html#find" class="tsd-kind-icon">find</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="directory.Directory.html#retrieveSelectable" class="tsd-kind-icon">retrieve<wbr/>Selectable</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Constructors</h2><section class="tsd-panel tsd-member tsd-kind-constructor tsd-parent-kind-class"><a id="constructor" class="tsd-anchor"></a><h3>constructor</h3><ul class="tsd-signatures tsd-kind-constructor tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">new <wbr/>Directory<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="directory.Directory.html" class="tsd-signature-type" data-tsd-kind="Class">Directory</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-returns-title">Returns <a href="directory.Directory.html" class="tsd-signature-type" data-tsd-kind="Class">Directory</a></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group tsd-is-private tsd-is-private-protected"><h2>Properties</h2><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-private"><a id="_blocks" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagPrivate">Private</span> _blocks</h3><div class="tsd-signature tsd-kind-icon">_blocks<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><a href="../modules/block_types.html#Block" class="tsd-signature-type" data-tsd-kind="Type alias">Block</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = {}</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wei2912/planwithus-lib/blob/8b89e67/src/directory/index.ts#L59">directory/index.ts:59</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-private"><a id="_selectableBlocks" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagPrivate">Private</span> _selectable<wbr/>Blocks</h3><div class="tsd-signature tsd-kind-icon">_selectable<wbr/>Blocks<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Set</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = ...</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wei2912/planwithus-lib/blob/8b89e67/src/directory/index.ts#L60">directory/index.ts:60</a></li></ul></aside></section></section><section class="tsd-panel-group tsd-member-group "><h2>Methods</h2><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="addBlock" class="tsd-anchor"></a><h3>add<wbr/>Block</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">add<wbr/>Block<span class="tsd-signature-symbol">(</span>prefix<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, block<span class="tsd-signature-symbol">: </span><a href="../modules/block_types.html#Block" class="tsd-signature-type" data-tsd-kind="Type alias">Block</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wei2912/planwithus-lib/blob/8b89e67/src/directory/index.ts#L83">directory/index.ts:83</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds a block into the directory.</p>
</div><div><p>This function handles the decomposition of blocks into properties and
subblocks. The parent block and each of its subblocks are added to the
block directory, with an appropriate prefix prepended to the block
identifiers.</p>
<p>For example, by passing in <code>prefix</code> as <code>&quot;foobar&quot;</code> and <code>block</code> as a block
with subblocks <code>foo</code> and <code>bar</code>, three blocks will be added to the directory
with identifiers <code>foobar</code>, <code>foobar/foo</code> and <code>foobar/bar</code>.</p>
<p><strong>Note that each block in the directory will have its subblocks stripped
away. If it is necessary to access a subblock, the <a href="directory.Directory.html#find">find</a> function should
be used with <code>prefix</code> set to the identifier of the parent block and <code>id</code>
set to the (partial) identifier of the subblock.</strong></p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>prefix: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>A prefix string representing the full identifier of the
block.</p>
</div></div></li><li><h5>block: <a href="../modules/block_types.html#Block" class="tsd-signature-type" data-tsd-kind="Type alias">Block</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The block to be added to the directory.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="find" class="tsd-anchor"></a><h3>find</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">find<span class="tsd-signature-symbol">(</span>prefix<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, id<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><a href="../modules/block_types.html#Block" class="tsd-signature-type" data-tsd-kind="Type alias">Block</a><span class="tsd-signature-symbol">]</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wei2912/planwithus-lib/blob/8b89e67/src/directory/index.ts#L124">directory/index.ts:124</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Finds a block in the directory.</p>
</div><div><p>This function attempts to find a block with the exact same full identifier
as <code>id</code>. If no such block exists, it will search for a block with <code>id</code>
directly under <code>prefix</code>.</p>
<p>For example, if <code>prefix</code> is set to <code>&quot;abc&quot;</code> and <code>id</code> to <code>&quot;ghi&quot;</code>, the
function will check if either of the blocks <code>ghi</code> or <code>abc/ghi</code> exist.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>prefix: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>A prefix string representing the full identifier of the
parent block, if any.</p>
</div></div></li><li><h5>id: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The identifier of the desired block. This may either be a full
identifier or a partial identifier under the parent block.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><a href="../modules/block_types.html#Block" class="tsd-signature-type" data-tsd-kind="Type alias">Block</a><span class="tsd-signature-symbol">]</span></h4><div><p>A pair with the first element as the full identifier of the desired
block and the second element as the desired block itself.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="retrieveSelectable" class="tsd-anchor"></a><h3>retrieve<wbr/>Selectable</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">retrieve<wbr/>Selectable<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wei2912/planwithus-lib/blob/8b89e67/src/directory/index.ts#L145">directory/index.ts:145</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Retrieves all selectable block identifiers in the directory.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></h4><div><p>A list of full identifiers of all selectable blocks in the
directory.</p>
</div></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="../modules/block.html">block</a></li><li class=" tsd-kind-module"><a href="../modules/block_blockId.html">block/block<wbr/>Id</a></li><li class=" tsd-kind-module"><a href="../modules/block_blockId_types.html">block/block<wbr/>Id/types</a></li><li class=" tsd-kind-module"><a href="../modules/block_satisfiers.html">block/satisfiers</a></li><li class=" tsd-kind-module"><a href="../modules/block_schemas.html">block/schemas</a></li><li class=" tsd-kind-module"><a href="../modules/block_typeSchemas.html">block/type<wbr/>Schemas</a></li><li class=" tsd-kind-module"><a href="../modules/block_types.html">block/types</a></li><li class="current tsd-kind-module"><a href="../modules/directory.html">directory</a></li><li class=" tsd-kind-module"><a href="../modules/index.html">index</a></li><li class=" tsd-kind-module"><a href="../modules/matchRule.html">match<wbr/>Rule</a></li><li class=" tsd-kind-module"><a href="../modules/matchRule_pattern.html">match<wbr/>Rule/pattern</a></li><li class=" tsd-kind-module"><a href="../modules/matchRule_pattern_satisfiers.html">match<wbr/>Rule/pattern/satisfiers</a></li><li class=" tsd-kind-module"><a href="../modules/matchRule_pattern_schemas.html">match<wbr/>Rule/pattern/schemas</a></li><li class=" tsd-kind-module"><a href="../modules/matchRule_pattern_typeSchemas.html">match<wbr/>Rule/pattern/type<wbr/>Schemas</a></li><li class=" tsd-kind-module"><a href="../modules/matchRule_pattern_types.html">match<wbr/>Rule/pattern/types</a></li><li class=" tsd-kind-module"><a href="../modules/matchRule_satisfiers.html">match<wbr/>Rule/satisfiers</a></li><li class=" tsd-kind-module"><a href="../modules/matchRule_schemas.html">match<wbr/>Rule/schemas</a></li><li class=" tsd-kind-module"><a href="../modules/matchRule_typeSchemas.html">match<wbr/>Rule/type<wbr/>Schemas</a></li><li class=" tsd-kind-module"><a href="../modules/matchRule_types.html">match<wbr/>Rule/types</a></li><li class=" tsd-kind-module"><a href="../modules/module.html">module</a></li><li class=" tsd-kind-module"><a href="../modules/module_types.html">module/types</a></li><li class=" tsd-kind-module"><a href="../modules/parser.html">parser</a></li><li class=" tsd-kind-module"><a href="../modules/satisfier.html">satisfier</a></li><li class=" tsd-kind-module"><a href="../modules/satisfier_types.html">satisfier/types</a></li><li class=" tsd-kind-module"><a href="../modules/satisfyRule.html">satisfy<wbr/>Rule</a></li><li class=" tsd-kind-module"><a href="../modules/satisfyRule_inequality.html">satisfy<wbr/>Rule/inequality</a></li><li class=" tsd-kind-module"><a href="../modules/satisfyRule_inequality_satisfiers.html">satisfy<wbr/>Rule/inequality/satisfiers</a></li><li class=" tsd-kind-module"><a href="../modules/satisfyRule_inequality_schemas.html">satisfy<wbr/>Rule/inequality/schemas</a></li><li class=" tsd-kind-module"><a href="../modules/satisfyRule_inequality_typeSchemas.html">satisfy<wbr/>Rule/inequality/type<wbr/>Schemas</a></li><li class=" tsd-kind-module"><a href="../modules/satisfyRule_inequality_types.html">satisfy<wbr/>Rule/inequality/types</a></li><li class=" tsd-kind-module"><a href="../modules/satisfyRule_satisfiers.html">satisfy<wbr/>Rule/satisfiers</a></li><li class=" tsd-kind-module"><a href="../modules/satisfyRule_schemas.html">satisfy<wbr/>Rule/schemas</a></li><li class=" tsd-kind-module"><a href="../modules/satisfyRule_typeSchemas.html">satisfy<wbr/>Rule/type<wbr/>Schemas</a></li><li class=" tsd-kind-module"><a href="../modules/satisfyRule_types.html">satisfy<wbr/>Rule/types</a></li><li class=" tsd-kind-module"><a href="../modules/some.html">some</a></li><li class=" tsd-kind-module"><a href="../modules/some_schemas.html">some/schemas</a></li><li class=" tsd-kind-module"><a href="../modules/some_typeSchemas.html">some/type<wbr/>Schemas</a></li><li class=" tsd-kind-module"><a href="../modules/some_types.html">some/types</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-class tsd-parent-kind-module"><a href="directory.Directory.html" class="tsd-kind-icon">Directory</a><ul><li class="tsd-kind-constructor tsd-parent-kind-class"><a href="directory.Directory.html#constructor" class="tsd-kind-icon">constructor</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="directory.Directory.html#_blocks" class="tsd-kind-icon">_blocks</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="directory.Directory.html#_selectableBlocks" class="tsd-kind-icon">_selectable<wbr/>Blocks</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="directory.Directory.html#addBlock" class="tsd-kind-icon">add<wbr/>Block</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="directory.Directory.html#find" class="tsd-kind-icon">find</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="directory.Directory.html#retrieveSelectable" class="tsd-kind-icon">retrieve<wbr/>Selectable</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li><li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li><li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li><li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>